{% extends '../account/base.html' %}
{% block content %}

<div class="container">
    <h2>{{ race_name }} Results</h2>
    {% for gender, results in results_dict.items %}
    <h3>{% if gender == 'F' %}Women{% else %}Men{% endif %}</h3>
    <table class="table">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Time</th>
            <th scope="col">Age Grade</th>
        </tr>
        </thead>
        <tbody>
        {% for result in results %}
        <tr>
            <th scope="row">{{ forloop.counter }}</th>
            <td>
                {% if result.athlete.photo %}
                <img src="{{ result.athlete.photo }}" class="rounded-circle" style="width: 32;" />
                {% endif %}
                {{ result.athlete.user.first_name }} {{ result.athlete.user.last_name }}
            </td>
            <td>
                {% if result.strava_activity_id %}
                <a href="https://www.strava.com/activities/{{ result.strava_activity_id }}">{{ result.elapsed_time }}</a>
                {% else %}
                {{ result.elapsed_time }}
                {% endif %}
            </td>
            <td>{{ result.age_grade|floatformat:2 }}%</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
    {% endfor %}
</div>
{% endblock content %}
